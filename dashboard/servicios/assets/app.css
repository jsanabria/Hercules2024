/* ========== Reset b√°sico de p√°gina ========== */
html, body {
  height: 100%;
}
body {
  margin: 0;
  font-family: system-ui, Arial, sans-serif;
  background: #f7f7fb;
  color: #222;
  overflow: hidden; /* el scroll vive en sidebar y content */
}

/* ========== Layout principal ========== */
:root {
  --sidebar-w: 320px;   /* ancho del panel izquierdo */
  --sidebar-border: 1px;/* grosor del borde derecho del sidebar */
}

/* Contenedor visual. No uses grid aqu√≠ si el sidebar es fixed */
.layout {
  position: relative;
  height: 100vh;
}

/* Sidebar fijo con scroll vertical propio */
.sidebar {
  position: fixed;
  inset: 0 auto 0 0;                    /* top:0 right:auto bottom:0 left:0 */
  width: var(--sidebar-w);
  box-sizing: border-box;
  background: #fff;
  border-right: var(--sidebar-border) solid #e5e7eb;
  padding: 16px;
  overflow-y: auto;                      /* üëà scroll vertical en el panel izquierdo */
  z-index: 3;
}

/* Panel central ocupa el resto, con su propio scroll vertical */
.content {
  position: relative;
  height: 100vh;
  overflow: auto;                        /* üëà scroll vertical principal */
  background: #f8fafc;
  /* margen exacto: ancho del sidebar + su borde */
  margin-left: calc(var(--sidebar-w) + var(--sidebar-border));
  padding: 16px;
  min-width: 0;                          /* evita desbordes horizontales por contenidos anchos */
}

/* (Opcional) Ajuste responsivo del sidebar */
@media (max-width: 900px) {
  :root { --sidebar-w: 280px; }
}

/* ========== Componentes de la UI izquierda ========== */
.card.expediente-card {
  background: #fafafa;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 16px;
}
.exp-id { font-weight: 700; font-size: 14px; }
.exp-nombre { font-size: 14px; color: #374151; }

.control { margin-bottom: 12px; display: flex; flex-direction: column; gap: 6px; }
.control label { font-size: 12px; color: #4b5563; }
.control select,
.control input[type="date"],
.control button {
  height: 36px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  padding: 0 10px;
  background: #fff;
}
.control button { cursor: pointer; }
.hint { font-size: 12px; color: #6b7280; margin: 8px 0 16px; }

/* Forzar caret visible en selects si alg√∫n estilo lo ocultaba */
select, .form-select {
  appearance: auto !important;
  -webkit-appearance: menulist !important;
  -moz-appearance: menulist !important;
  background-image: none !important;
}

/* Estado disabled visible en botones */
button:disabled, .btn:disabled {
  opacity: .55;
  cursor: not-allowed;
  filter: grayscale(20%);
}

/* ========== T√≠tulos del panel central ========== */
.grid-title {
  margin: 0 0 6px 0;
  font-size: 18px;
  font-weight: 700;
  color: #111827;
}
.grid-subtitle {
  margin: 0 0 12px 0;
  font-size: 14px;
  color: #4b5563;
}

/* ========== (Opcional) Contenedor de grilla con scroll horizontal si lo usas m√°s adelante ========== */
#grid-container { 
  overflow-x: auto; 
  overflow-y: visible; 
  -webkit-overflow-scrolling: touch; 
  max-width: 100%;
}

/* Grilla base; width: max-content asegura barra horizontal si hay muchas columnas */
.grid {
  display: grid;
  grid-template-columns: 90px repeat(var(--cols, 1), var(--colw, minmax(160px, 1fr))) 90px;
  width: max-content;
  min-width: 100%;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
}

.cell { 
  border-bottom: 1px solid #eee;
  border-right: 1px solid #eee;
  padding: 6px;
  min-height: 36px;
  display: flex;
  align-items: center;
  overflow: hidden;
  box-sizing: border-box;
}
.cell.header { background:#111827; color:#fff; font-weight:600; }
.cell.time   { background:#f9fafb; font-variant-numeric: tabular-nums; justify-content:center; }
.cell:last-child { border-right: none; }

.slot { background:#fff; position: relative; }
.slot.disponible { background: #ffffff; }
.slot.reservada  { background: #f8fbff; }
.slot.bloqueada  { background: #fef2f2; border-color: #fecaca; }

.cell.slot.selected {
  outline: 2px solid #2563eb;
  outline-offset: -2px;
  box-shadow: inset 0 0 0 2px rgba(37,99,235,.25);
}

.slot .slot-label { 
  font-size: 12px;
  color: #111827;
  line-height: 1.1;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

/* Chips (si hay m√∫ltiples reservas en una celda) */
.slot-items { display: flex; flex-direction: column; gap: 4px; }
.chip {
  display: block;
  border: 1px solid #c7d2fe;
  background: #eef2ff;
  border-radius: 10px;
  padding: 6px 8px;
  line-height: 1.1;
  max-width: 100%;
  overflow: hidden;
}
.chip--two .chip-exp {
  font-weight: 700;
  font-size: 12px;
  color: #312e81;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}
.chip--two .chip-name {
  font-size: 12px;
  color: #1e293b;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Loader (si lo usas en el central) */
.grid-loading {
  position: relative;
  min-height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
}
.grid-loading.hidden { display: none; pointer-events: none; }

.loader {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  background: #ffffff;
  box-shadow: 0 2px 10px rgba(0,0,0,.06);
}
.loader-text { font-size: 14px; color: #111827; }
.spinner {
  width: 20px;
  height: 20px;
  border: 3px solid #e5e7eb;
  border-top-color: #0ea5e9;
  border-radius: 50%;
  animation: spin 0.9s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Banderas/avisos */
.empty-banner {
  background: #fff7ed;
  color: #7c2d12;
  border: 1px solid #fdba74;
  padding: 10px 12px;
  border-radius: 10px;
  margin-bottom: 10px;
  font-size: 14px;
}

/* Drop target */
.cell.slot.disponible.droptarget {
  outline: 2px dashed #0ea5e9;
  outline-offset: -2px;
  background: #f0f9ff;
}

/* Sugerencias typeahead (si usas la b√∫squeda de proveedores) */
.typeahead-list {
  position: absolute;
  top: 100%;
  left: 0; right: 0;
  z-index: 1030;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-top: none;
  max-height: 260px;
  overflow-y: auto;
  display: none;
}
.typeahead-item {
  padding: 8px 10px;
  cursor: pointer;
  border-top: 1px solid #f3f4f6;
}
.typeahead-item:hover,
.typeahead-item.active {
  background: #f3f4f6;
}


/* ====== FIX GAP + SCROLL SIDEBAR ====== */

/* aseg√∫rate de que el layout no meta columnas ‚Äúfantasma‚Äù */
.layout { display: block !important; }

/* sidebar realmente fijo y con scroll vertical propio */
.sidebar{
  position: fixed !important;
  inset: 0 auto 0 0 !important;   /* top:0 right:auto bottom:0 left:0 */
  width: var(--sidebar-w) !important;
  height: 100vh !important;
  overflow-y: auto !important;
  box-sizing: border-box;
  border-right: var(--sidebar-border) solid #e5e7eb;
  z-index: 3;
}

/* el panel central arranca EXACTO a la derecha del sidebar */
.content{
  margin-left: calc(var(--sidebar-w) + var(--sidebar-border)) !important;
  min-width: 0 !important;
  height: 100vh !important;
  overflow: auto !important;
  padding-left: 16px;
}

/* si dentro del central tienes container(s) de Bootstrap, neutral√≠zalos */
.content > .container,
.content > .container-fluid{
  max-width: none !important;
  width: 100% !important;
  margin: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* elimina gutters (m√°rgenes laterales) de filas Bootstrap en el central */
.content .row{
  --bs-gutter-x: 0 !important;
  --bs-gutter-y: 0 !important;
}

/* por si qued√≥ alguna ‚Äúcolumna separadora‚Äù accidental */
.col-spacer, .col-empty { display:none !important; }

/* caret visible en selects (si alg√∫n estilo lo ocult√≥) */
select, .form-select{
  appearance: auto !important;
  -webkit-appearance: menulist !important;
  -moz-appearance: menulist !important;
  background-image: none !important;
}
